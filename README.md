# macrotools
tools for polymer modeling and building


## Установка Pysimm
пререквизиты: lammps, conda (numpy, scipy, matplotlib)

Установка:

1. Копируем исходный код:

`git clone https://github.com/polysimtools/pysimm.git`

2. Создаем conda-окружение:

`conda create -n pysimm numpy scipy matplotlib`

`conda activate pysimm`

3. Устанавливаем исходный код:

`pip install -e /path/to/pysimm/folder`

Готово.

Если все было сделано правильно, теперь Пайсим всегда будет виден внутри окружения. Проверить можно командами:

`from pysimm import system, lmps, forcefield`

`from pysimm.apps.random_walk import random_walk, copolymer`

Перед запуском расчетов нужно добавить путь к исполняемому файлу Лампса в переменную `LAMMPS_EXEC`:

`export LAMMPS_EXEC=/path/to/lammps/executable`

## Построение ячейки аморфного полимера

Пока что можно пользоваться скриптом `system_mono.py` - он позволяет создавать ячейки полимеров с заданной плотностью и числом цепей, но 
с ограничением на один вид мономеров. Примерный вид команды для запуска через командную строку:

`python system_mono.py 'PES_185.mol 11 50' --density=1.1 --chains=8 --size='5 3 5 6 8 9 6 3'`

Первым аргуметом должна быть строка, содержащая путь к mol-файлу с молекулой мономера и два числа, определяющие точки полимеризации. 
Чтобы их узнать нужно открыть .mol файл и взять оттуда номера атомов, с которыми должна образовываться новая связь при полимеризации (на атомы водорода не смотрим). 
Далее указываем плотность, число цепей в ячейке и их размеры в виде строки через пробел. Количество цифр в `--size` должно быть таким же, как `--chains`.

Пайсим создаст цепи, упакует их в ячейку и создаст в директории файл для Лампса, который можно будет использовать в дальнейшем.
